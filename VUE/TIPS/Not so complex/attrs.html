<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="https://unpkg.com/vue@2.4.2/dist/vue.js"></script>
    <title>Event this.$listener example</title>
    <style>
        #hello {
            color: blue
        }
    </style>
</head>

<body>

    <div id="app">
        <p> Clicked {{ clicks }} </p>
        <p> Mouse moved {{ mouse }} </p>
        <super-button @mouseover="countMouse()" @click="countClicks()" :id="id" class="myClass" foo="foo"></super-button>
    </div>

    <template id="button-template">
        <button v-bind="attrs" v-on="listeners"> Super button </button>
    </template>

    <script>

        Vue.component('super-button', {
            inheritAttrs: false,
            computed: {
                listeners: function () {
                    // Everything except click
                    const {
                        click,
                        ...listeners
                    } = this.$listeners;
                    return listeners;
                },
                attrs() {
                    console.log('attrs', this.$attrs);
                    console.log('listeners', this.$listeners);
                    // Everything except id
                    const {
                        id,
                        ...attrs
                    } = this.$attrs;
                    return attrs;
                }
            },
            template: "#button-template",
        });

        new Vue({
            el: '#app',
            data() {
                return {
                    clicks: 0,
                    mouse: 0,
                    id: 'hello'
                }
            },
            methods: {
                countClicks() {
                    this.clicks++;
                },
                countMouse() {
                    this.mouse++;
                }
            },
        })
    </script>
</body>
</html>